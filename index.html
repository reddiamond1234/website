<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FEROCOM d.o.o.</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Reset & Basic Styling */
    html, body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      color: #333;
    }

    /* Fixed Header with Tagline Below Title */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      min-height: 100px;
      padding: 10px 0;
      background: #1E90FF;
      color: #fff;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    header h1 {
      margin: 0;
      line-height: 1.2;
      font-size: 2.5em;
      cursor: pointer;
    }
    header p {
      margin: 0;
      line-height: 1.2;
      font-size: 0.9em;
    }

    /* Fixed Navbar */
    nav {
      position: fixed;
      top: 100px; /* directly below header */
      left: 0;
      width: 100%;
      background: #2980b9;
      display: flex;
      align-items: center;
      z-index: 900;
    }
    /* Mobile Menu Icon */
    .mobile-menu-icon {
      display: none;
      font-size: 2em;
      padding: 10px;
      cursor: pointer;
      color: #fff;
    }
    nav ul {
      width: 100%;
      margin: 0;
      padding: 0;
      display: flex;
      list-style: none;
      justify-content: space-around;
    }
    nav li {
      flex: 1;
      text-align: center;
      padding: 20px 0;
      cursor: pointer;
      border-right: 1px solid #2471a3;
    }
    nav li:last-child {
      border-right: none;
    }
    nav li.active {
      background: #2471a3;
    }

    /* Main Content Container */
    .container {
      margin-top: 160px;
      margin-bottom: 60px;
      padding: 20px;
      position: relative;
      z-index: 0;
    }

    /* About Content Styling */
    .about-content {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 20px;
      margin-top: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      line-height: 1.6;
    }
    .about-content ul {
      margin-left: 20px;
      list-style-type: disc;
    }
    .about-content p {
      margin-bottom: 15px;
    }

    /* Footer Styling */
    footer {
      background: #1E90FF;
      color: #fff;
      text-align: center;
      padding: 20px;
      margin-top: 20px;
    }

    /* Product Grid & Card Styling */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 20px;
    }
    .product-card {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    .product-card img {
      width: 100%;
      max-height: 250px;
      object-fit: cover;
      cursor: pointer;
    }
    .product-info {
      padding: 15px;
    }
    .product-info h3 {
      color: #2980b9;
      margin-bottom: 10px;
      cursor: pointer;
    }

    /* Redesigned Product Detail Layout */
    .product-detail-container {
      margin: 20px 0;
    }
    .product-detail {
      display: flex;
      gap: 20px;
      align-items: flex-start;
    }
    .product-image {
      flex: 1;
    }
    .product-image img {
      width: 100%;
      max-width: 400px;
      height: auto;
      border-radius: 8px;
    }
    .product-info {
      flex: 1;
      padding: 20px;
    }
    /* Desktop product name (visible only on desktop) */
    .desktop-product-name {
      text-decoration: underline;
      font-size: 2em;
      margin: 0 0 20px;
    }
    /* Mobile product name (visible only on mobile) */
    .mobile-product-name h2 {
      text-decoration: underline;
      font-size: 2em;
      margin: 20px 0;
    }
    .mobile-product-name {
      display: none;
    }
    .back-btn {
      padding: 10px 20px;
      background: #1E90FF;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 20px;
    }

    /* --- MEDIA QUERY FOR MOBILE --- */
    @media (max-width: 768px) {
      /* Increase top margin to prevent menu overlap */
      .container {
        margin-top: 220px;
      }
      /* Mobile Menu Styles */
      nav {
        flex-direction: column;
        align-items: center;
      }
      .mobile-menu-icon {
        display: block;
        text-align: center;
        width: 100%;
      }
      nav ul {
        display: none !important;
        flex-direction: column;
        width: 100%;
        margin-top: 10px;
      }
      nav ul.open {
        display: block !important;
      }
      nav li {
        border: none;
        padding: 15px 0;
        text-align: center;
      }
      /* Product Detail: Stack columns vertically */
      .product-detail {
        flex-direction: column;
      }
      /* Show mobile product name; hide desktop version */
      .mobile-product-name {
        display: block;
      }
      .desktop-product-name {
        display: none;
      }
      /* Footer: Static on mobile */
      footer {
        position: static;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- Fixed Header -->
    <header>
      <h1 @click="goHome">{{ companyName }}</h1>
      <p>{{ tagline }}</p>
    </header>

    <!-- Fixed Navbar -->
    <nav class="tabs">
      <!-- Hamburger icon: shows hamburger or close icon based on menu state -->
      <div class="mobile-menu-icon" @click="toggleMenu">
        <span v-if="!menuOpen">&#9776;</span>
        <span v-else>&#10005;</span>
      </div>
      <!-- Menu: on desktop always visible; on mobile shown when toggled -->
      <ul :class="{ open: menuOpen }">
        <li :class="{ active: activeTab === 'about' }" @click="goToTab('about')">O nas</li>
        <li :class="{ active: activeTab === 'products' }" @click="goToTab('products')">Artikli</li>
        <li :class="{ active: activeTab === 'location' }" @click="goToTab('location')">Lokacija</li>
        <li :class="{ active: activeTab === 'contact' }" @click="goToTab('contact')">Kontakt</li>
      </ul>
    </nav>

    <!-- Main Content Container -->
    <div class="container">
      <!-- Main View: Shown when no product is selected -->
      <div v-if="!selectedProduct">
        <!-- About Tab -->
        <div v-if="activeTab === 'about'">
          <h2>O nas</h2>
          <div class="about-content" v-html="aboutText"></div>
        </div>
        <!-- Products Tab -->
        <div v-if="activeTab === 'products'">
          <h2>Artikli</h2>
          <div class="product-grid">
            <div v-for="product in products" :key="product.id" class="product-card">
              <img 
                :src="product.image" 
                :srcset="product.srcset" 
                sizes="(max-width: 768px) 100vw, 350px" 
                :alt="product.name" 
                loading="lazy"
                @click="selectProduct(product)"
              />
              <div class="product-info">
                <h3 @click="selectProduct(product)">{{ product.name }}</h3>
                <p>{{ product.details }}</p>
              </div>
            </div>
          </div>
        </div>
        <!-- Location Tab -->
        <div v-if="activeTab === 'location'">
          <h2>Kje smo?</h2>
          <p>{{ location.address }}</p>
          <p> {{ location.zip }} {{ location.city }}, {{ location.state }}</p>
        </div>
        <!-- Contact Tab -->
        <div v-if="activeTab === 'contact'">
          <h2>Kontakt</h2>
          <p>Email: <a :href="'mailto:' + contact.email">{{ contact.email }}</a></p>
          <p>Phone: <a :href="'tel:' + contact.phone1">{{ contact.phone1 }}</a>, <a :href="'tel:' + contact.phone2">{{ contact.phone2 }}</a></p>
          <br>
          <h2>Delovni čas</h2>
          <ul>
            <li>Ponedeljek - Petek: 7:00 - 14:30</li>
            <li>Vikendi, Prazniki: zaprto</li>
          </ul>
        </div>
      </div>

      <!-- Product Detail View: Redesigned Layout -->
      <div v-else class="product-detail-container">
        <!-- Mobile Product Name (only visible on mobile) -->
        <div class="mobile-product-name">
          <h2>{{ selectedProduct.name }}</h2>
        </div>
        <div class="product-detail">
          <!-- Left Column: Image -->
          <div class="product-image">
            <img 
              :src="selectedProduct.image" 
              :srcset="selectedProduct.srcset" 
              sizes="(max-width: 768px) 100vw, 600px" 
              :alt="selectedProduct.name" 
              loading="lazy"
            />
          </div>
          <!-- Right Column: Details -->
          <div class="product-info">
            <!-- Desktop Product Name (visible only on desktop) -->
            <h2 class="desktop-product-name">{{ selectedProduct.name }}</h2>
            <h3>Opis izdelka</h3>
            <p>{{ selectedProduct.longDescription }}</p>
            <h4>Tehnični podatki:</h4>
            <ul>
              <li v-for="(value, key) in selectedProduct.stats" :key="key">
                {{ key }}: {{ value }}
              </li>
            </ul>
            <!-- Variants Section -->
            <div v-if="selectedProduct.variants && selectedProduct.variants.length">
              <h4>Dostopne različice:</h4>
              <ul>
                <li v-for="variant in selectedProduct.variants" :key="variant.id">
                  Velikost: {{ variant.size }}, Material: {{ variant.material }}
                </li>
              </ul>
            </div>
            <button class="back-btn" @click="goBack()">Nazaj na izdelke</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer>
      <p>&copy; {{ new Date().getFullYear() }} {{ companyName }}. Vse pravice pridržane.</p>
    </footer>
  </div>

  <!-- Include Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        companyName: 'FEROCOM d.o.o.',
        tagline: '',
        activeTab: 'products', // default tab is "Artikli"
        aboutText: `
          <p>Podjetje <strong>FEROCOM d.o.o.</strong> iz Ljubljane je bilo ustanovljeno leta 1992 in se je v dobrih tridesetih letih obstoja iz prodajalca kanalske litine razvilo v trgovino in proizvodnjo specializirano za prodajo:</p>
          <ul>
            <li>Litoželeznih okroglih in kvadratnih kanalskih pokrovov in rešetk, izdelanih v zahtevanih standardih SIST EN 124.</li>
            <li>Vseh vrst cestnih kap za zunanji vodovod in plin</li>
            <li>Različnih vrst kanalet</li>
          </ul>
          <br>
          <p>Namenjeni so za vgradnjo na različna območja:</p>
          <ul>
                <li><strong>B 125 (150KN):</strong> pločniki, pešpoti, parkirišča za osebna vozila</li>
                <li><strong>C 250 (250KN):</strong> bankine, pločniki, stranski pasovi cest, parkirišča za tovorna vozila</li>
                <li><strong>D 400 (400 KN):</strong> ceste, ulice, bankine in parkirišča s težjim tovornim prometom</li>
          </ul>
          <br>
          <p>Kanalski pokrovi imajo možnost napisov: 
            <ul>
                <li>Kanalizacija</li>
                <li>Vodovod</li>
                <li>Telefon</li>
                <li>Elektrika</li> 
                <li>Brez napisa</li>
            </ul>
          <br>
          <p>Vsi izdelki so antikorozijsko zaščiteni s črno barvo.</p>

        `,
        selectedProduct: null,
        menuOpen: false,
        products: [
          {
            id: 1,
            name: 'LTŽ pokrovi',
            details: 'Kratki opis izdelka. Inovativna tehnologija in številne prednosti.',
            image: 'images/products/cover.jpg',
            srcset: 'images/products/cover.jpg 300w, images/products/cover.jpg 600w',
            longDescription: 'Podroben opis izdelka LTŽ pokrovi. Izdelek je zasnovan z inovativno tehnologijo, ponuja številne prednosti, kot so vzdržljivost, enostavna montaža in vrhunska učinkovitost.',
            stats: { Teža: '2kg', Dimenzije: '30x30 cm', Material: 'Jeklo' },
            variants: [
              { id: 101, size: 'Small', material: 'Jeklo' },
              { id: 102, size: 'Medium', material: 'Aluminij' },
              { id: 103, size: 'Large', material: 'Plastika' }
            ]
          },
          {
            id: 2,
            name: 'LTŽ rešetke',
            details: 'Kratki opis izdelka. Odlična vzdržljivost in zmogljivost.',
            image: 'images/products/drain.jpg',
            srcset: 'images/products/drain.jpg 300w, images/products/drain.jpg 600w',
            longDescription: 'Podroben opis izdelka LTŽ rešetke. Izdelek je znan po svoji vzdržljivosti in izjemni zmogljivosti, primeren za zahtevne pogoje uporabe.',
            stats: { Teža: '3kg', Dimenzije: '40x40 cm', Material: 'Aluminij' },
            variants: [
              { id: 201, size: 'Standard', material: 'Aluminij' },
              { id: 202, size: 'Standard', material: 'Plastika' }
            ]
          },
          {
            id: 3,
            name: 'Kanalete',
            details: 'Kratki opis izdelka. Visoka kakovost materialov in funkcionalnost.',
            image: 'images/products/line_drain.jpg',
            srcset: 'images/products/line_drain.jpg 300w, images/products/line_drain.jpg 600w',
            longDescription: 'Podroben opis izdelka Kanalete. Izdelane iz visokokakovostnih materialov in zasnovane za odlične funkcionalne lastnosti, primerno za različne aplikacije.',
            stats: { Teža: '1.5kg', Dimenzije: '25x25 cm', Material: 'Plastika' },
            variants: [
              { id: 301, size: '25x25 cm', material: 'Plastika' },
              { id: 302, size: '30x30 cm', material: 'Plastika' }
            ]
          },
          {
            id: 4,
            name: 'Nov izdelek',
            details: 'Kratki opis novega izdelka. Odličen za različne namene.',
            image: 'images/products/new_product.jpg',
            srcset: 'images/products/new_product.jpg 300w, images/products/new_product.jpg 600w',
            longDescription: 'Podroben opis novega izdelka. Ta izdelek je zasnovan za zagotavljanje odlične učinkovitosti in zanesljivosti v vseh pogojih.',
            stats: { Teža: '2.5kg', Dimenzije: '35x35 cm', Material: 'Kovina' },
            variants: [
              { id: 401, size: '35x35 cm', material: 'Kovina' },
              { id: 402, size: '40x40 cm', material: 'Kovina' }
            ]
          }
        ],
        location: {
          address: 'Brnčičeva ulica 45',
          city: 'Ljubljana - Črnuče',
          state: 'Slovenija',
          zip: '1000'
        },
        contact: {
          email: 'ferocom@siol.net',
          phone1: '01/561-34-87',
          phone2: '01/561-34-74'
        }
      },
      methods: {
        toggleMenu() {
          this.menuOpen = !this.menuOpen;
        },
        goToTab(tab) {
          this.activeTab = tab;
          this.selectedProduct = null;
          this.menuOpen = false;
          window.history.pushState({}, '', window.location.pathname);
        },
        selectProduct(product) {
          this.selectedProduct = product;
          window.history.pushState({ productSelected: true }, '', '#product');
        },
        handlePopState() {
          if (this.selectedProduct) {
            this.selectedProduct = null;
          }
        },
        goBack() {
          window.history.back();
        },
        goHome() {
          // Reset to homepage view
          this.activeTab = 'products';
          this.selectedProduct = null;
          this.menuOpen = false;
          window.history.pushState({}, '', window.location.pathname);
        }
      },
      created() {
        window.addEventListener('popstate', this.handlePopState);
      },
      beforeDestroy() {
        window.removeEventListener('popstate', this.handlePopState);
      }
    });
  </script>
</body>
</html>
